---
import { Image } from 'astro:assets';
import mapImage from '../images/eco/world-map.png';
import markerImage from '../images/eco/world-map-marker.svg';
---

<div class="world-map">
    <Image src={mapImage} alt='Карта мира' class='eco_about_image' loading='eager'/>
    <ul class="country-markers">
        <li class="russia">
            <button><Image src={markerImage} alt="Marker"/></button>
            <span>Россия</span>
        </li>
        <li class="georgia">
            <button><Image src={markerImage} alt="Marker"/></button>
            <span>Грузия</span>
        </li>
        <li class="israel">
            <button><Image src={markerImage} alt="Marker"/></button>
            <span>Израиль</span>
        </li>
        <li class="sri-lanka">
            <button><Image src={markerImage} alt="Marker"/></button>
            <span>Шри-Ланка</span>
        </li>
    </ul>
</div>

<style>

    .world-map {
        position: relative;
        overflow: hidden;
        margin: auto;
    }

    img {
        display: block;
        width: 100%; height: auto;
    }

    .country-markers li {
        position: absolute;
        margin-left: -5px;  
    }

    .country-markers button {
        position: absolute;
        bottom: 1px;
        background: transparent;
    }

    .country-markers button img {
        display: block;
        width: 10px; height: auto;
    }

    .country-markers span {
        opacity: 0; /* Make visible only on marker hover */
        transition: opacity 1s;
        display: inline-block;
        background-color: white;
        border-radius: 5px;
        padding: 1px 3px 2px;
        font-size: 6px;
        color: #898989;
        margin-left: 12px;
        white-space: nowrap;
        min-width: 50px;
    }

    .country-markers button:hover + span {
        opacity: 1; /* Make visible only on marker hover */
    }

    .country-markers .russia {
        left: 81%; bottom: 80%;
    }

    .country-markers .georgia {
        left: 64%; bottom: 58%;
    }

    .country-markers .israel {
        left: 63%; bottom: 49%;
    }

    .country-markers .sri-lanka {
        left: 77%; bottom: 38%;
    }

    @media (width >= 480px) {

        .country-markers li {
            margin-left: -7px;  
        }

        .country-markers button img {
            width: 14px;
        }

        .country-markers span {
            margin-left: 15px;
            margin-bottom: 5px;
        }
    }

    @media (width >= 640px) {

        .country-markers li {
            margin-left: -11px;
        }

        .country-markers button img {
            width: 22px;
        }

        .country-markers span {
            font-size: 8px;
            margin-left: 25px;
            margin-bottom: 10px;
        }
    }

    @media (width >= 960px) {

        .world-map {
            width: 702px;
        }

        .country-markers li {
            margin-left: -14px;
        }

        .country-markers button img {
            width: 28px;
        }

        .country-markers span {
            font-size: 10px;
            margin-left: 35px;
            margin-bottom: 10px;
            padding: 3px 8px 4px;
        }
    }

    @media (width >= 1200px) {

        .world-map {
            width: 940px;
        }

        .country-markers li {
            margin-left: -18px;
        }

        .country-markers button img {
            width: 36px;
        }

        .country-markers span {
            font-size: 14px;
            margin-left: 45px;
            margin-bottom: 15px;
            padding: 4px 10px 5px;
        }
}
</style>