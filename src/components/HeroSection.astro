---
import '../styles/global.css';
import { Image } from 'astro:assets';
import img from '../images/eco/ecoCover.jpg'
interface Props {
    heroImage;
    heroImageDescr: string;
    heading: string;
    subheading?:string;
    subheading2?: string;
    description?:string;
    pageTitle: string;
}
const { heroImage, heroImageDescr, heading, subheading, subheading2, description, pageTitle } = Astro.props;
let headingClip1;
let headingClip2;
let usualHeading;
let topPosition;
let leftDelta;
let imageUrl;
let imgCover;

if(pageTitle === 'eco') {
    // text values
    headingClip1 = 'ECO';
    headingClip2 = 'DAY';
    usualHeading = 'TIME';

    topPosition = '9.375rem';
    leftDelta = '21.25rem';
}

console.log(pageTitle);
---
<section class:list={pageTitle}>
    <Image src={heroImage} alt={heroImageDescr} class='hero_img' loading='eager'/>
    <div class="cover"></div>
    <h1 id="hero_heading">
        {headingClip1}<br /><span class="usual-text">{usualHeading}</span>{headingClip2}
        <!-- {headingClip1 && <span class="clip-text clip-text-1">{headingClip1}</span>}
        {usualHeading && <span class="usual-text">{usualHeading}</span>}
        {headingClip2 && <span class="clip-text clip-text-2"> {headingClip2}</span>} -->
    </h1>
    
    {subheading && <h2 class="hero-subheading">{subheading}</h2>}
    {subheading2 && <h3 class="hero-subheading2">subheading2</h3>}
    {description && <p class="hero-description">description</p>}
</section>

<style>
    section {
        position: relative;
        display: flex;
        width: 100vw;
        height: 45rem;
        align-items: center;
        justify-content: center;
    }

    .hero_img {
        display: block;
        position: absolute;
        width: inherit;
        height: inherit;
        z-index: -1;
    }

    .cover {
        position: absolute;
        top: 0;
        left: 0;
        display: block;
        background: white;
        height: inherit;
        width: calc((100vw - var(--reduced-width)) / 2 + 31rem);
    }

    h1 {
        position: absolute;
        top: 9.375rem;
        left: calc((100vw - var(--reduced-width)) / 2);
        display: inline-block;
        width: 100vw;
        height: inherit;
        font-family: var(--font-lulo-bold);
        font-size: 9.8125rem;
        line-height: 14rem;
    }

    .clip-text {
        display: inline;
        position: absolute;
        left: calc((100vw - var(--reduced-width)) / 2);
    }

    .clip-text-1 {
        top: 9.375rem;
    }

    .clip-text-2 {
        bottom: 7.2rem;
    }

    .usual-text {
        color: black;
        position: absolute;
        top: 0;
        left: 33rem;
    }

    h2 {
        position: absolute;
        z-index: 1;
        bottom: 10rem;
        right: calc((100vw - var(--reduced-width)) / 2 + 1.6rem);
        display: inline-block;
        font-family: var(--font-lulo-bold);
        font-size: 3.125rem;
        letter-spacing: 1px;
        color: white;
    }
</style>

<script>
    const currentUrl = window.location.pathname;
    console.log(currentUrl);
    let imgCover;
    switch(currentUrl) {
        case "/eco":
            imgCover = 'src/images/eco/ecoCover.jpg';
            break;
        default:
            imgCover = '';
    }
    
    let heading = document.getElementById("hero_heading");
    
    heading.style.background = `url(${imgCover})`;
    heading.style.backgroundSize = 'cover';
    heading.style.backgroundClip = 'text';
    heading.style.color = 'transparent';
    heading.style.overflow = 'hidden';
    heading.style.width = '91.25rem';
    heading.style.height = '35.7rem';
</script>