---
import '../../styles/global.css';
import EcoGaleryCard from './EcoGaleryCard.astro';
import galeryData from '../../data/galery.json';

const { page } = Astro.props;
---
<section class="eco_galery">
    <div class="eco_galery__container">
        <div class="row row-1">
            {page === 'eco' && 
                galeryData.map((card) => (
                        card.id < 4 &&  card.category === page && 
                        <EcoGaleryCard cardImage={card.imgPath} cardText={card.cardText} imgDescr={card.imgDescr} fontSize={card.fontSize} />
                    )   
                )
            }
            {
                galeryData.map((card) => (
                        [12, 13, 14].includes(card.id) &&  card.category === page && 
                        <EcoGaleryCard cardImage={card.imgPath} cardText={card.cardText} imgDescr={card.imgDescr} fontSize={card.fontSize} />
                    )   
                )
            }
        </div>
        <div class="row row-2">
            {page === 'eco' && 
                galeryData.map((card) => (
                        [4, 5, 6, 7].includes(card.id) &&  card.category === page && 
                        <EcoGaleryCard cardImage={card.imgPath} cardText={card.cardText} imgDescr={card.imgDescr} fontSize={card.fontSize} />
                    )   
                )
            }
            {page === 'ride' && 
                galeryData.map((card) => (
                        [15, 16, 17, 18].includes(card.id) &&  card.category === page && 
                        <EcoGaleryCard cardImage={card.imgPath} cardText={card.cardText} imgDescr={card.imgDescr} fontSize={card.fontSize} />
                    )   
                )
            }
        </div>
        <div class="row row-3">
            {page === 'eco' && 
                galeryData.map((card) => (
                        card.id > 7 &&  card.category === page && 
                        <EcoGaleryCard cardImage={card.imgPath} cardText={card.cardText} imgDescr={card.imgDescr} fontSize={card.fontSize} />
                    )   
                )
            }
        </div>
        <div class="row row-1">
            {page === 'ride' && 
                galeryData.map((card) => (
                        [19, 20, 21].includes(card.id) &&  card.category === page && 
                        <EcoGaleryCard cardImage={card.imgPath} cardText={card.cardText} imgDescr={card.imgDescr} fontSize={card.fontSize} />
                    )   
                )
            }
        </div>
    </div>
</section>

<style>
    section {
        display: block;
        position: relative;
        width: 100vw;
        height: 50.3rem;
    }

    .eco_galery__container {
        display: block;
        position: absolute;
        width: var(--full-width);
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        overflow-x: scroll;
        scrollbar-width: none;
        margin: -2rem;
        padding: 2rem;
    }

    .row {
        display: flex;
        flex-direction: row;
        justify-content: space-evenly;
        margin-bottom: 1.25rem;
    }

    .row-2 {
        width: 93.75rem;
        margin-left: -9.375rem;
    }

    .row-3 {
        width: 93.75rem;
        margin-left: 2.5rem;
    }
</style>